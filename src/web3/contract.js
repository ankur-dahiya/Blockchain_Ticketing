import {web3} from "./web3.js";

export const CONTRACT_ADDR = "0x93f10577219e5b5649cbc0fab475e06c7794d6a1";
export const CONTRACT_ABI = [
  {
    inputs: [
      { internalType: "uint256", name: "_ticketId", type: "uint256" },
      { internalType: "address", name: "user", type: "address" },
    ],
    name: "cantBuyMore",
    type: "error",
  },
  {
    inputs: [
      { internalType: "uint256", name: "_ticketId", type: "uint256" },
      { internalType: "address", name: "user", type: "address" },
    ],
    name: "notAuthorized",
    type: "error",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: true,
        internalType: "address",
        name: "oldOwner",
        type: "address",
      },
      {
        indexed: true,
        internalType: "address",
        name: "newOwner",
        type: "address",
      },
    ],
    name: "OwnerSet",
    type: "event",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        internalType: "uint256",
        name: "_ticketId",
        type: "uint256",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "_ticketAmt",
        type: "uint256",
      },
    ],
    name: "ticketCreated",
    type: "event",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        internalType: "uint256",
        name: "_ticketId",
        type: "uint256",
      },
      {
        indexed: false,
        internalType: "uint32",
        name: "_ticketLeft",
        type: "uint32",
      },
      {
        indexed: false,
        internalType: "address",
        name: "_buyer",
        type: "address",
      },
    ],
    name: "ticketPurchased",
    type: "event",
  },
  {
    inputs: [{ internalType: "address", name: "newOwner", type: "address" }],
    name: "changeOwner",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [
      { internalType: "uint32", name: "_ticketAmt", type: "uint32" },
      { internalType: "address", name: "_vendor", type: "address" },
    ],
    name: "createTicket",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [],
    name: "getOwner",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [
      { internalType: "address", name: "", type: "address" },
      { internalType: "uint256", name: "", type: "uint256" },
    ],
    name: "ticketOwners",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    name: "tickets",
    outputs: [{ internalType: "uint32", name: "", type: "uint32" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [
      { internalType: "uint32", name: "_ticketId", type: "uint32" },
      { internalType: "address", name: "_to", type: "address" },
    ],
    name: "transferTicket",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    name: "vendors",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    stateMutability: "view",
    type: "function",
  },
];

export const byteCode = `60806040526001805534801561001457600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167f342827c97908e5e2f71151c08502a66d44b6f758e3ac2f1de95f02eb95f0a73560405160405180910390a3610e2c806100df6000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063893d20e81161005b578063893d20e8146100ea578063a08d986d14610108578063a6f9dae114610138578063b761ab9e146101545761007d565b806303d7c4e71461008257806305e23c5e1461009e57806350b44712146100ba575b600080fd5b61009c600480360381019061009791906109cc565b610184565b005b6100b860048036038101906100b391906109cc565b6103c7565b005b6100d460048036038101906100cf91906109a3565b610584565b6040516100e19190610b6c565b60405180910390f35b6100f26105a7565b6040516100ff9190610aad565b60405180910390f35b610122600480360381019061011d91906109a3565b6105d0565b60405161012f9190610aad565b60405180910390f35b610152600480360381019061014d919061093e565b610603565b005b61016e60048036038101906101699190610967565b61074e565b60405161017b9190610b28565b60405180910390f35b6000600360008463ffffffff16815260200190815260200160002060009054906101000a900463ffffffff1663ffffffff16116101f6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101ed90610b08565b60405180910390fd5b6102068263ffffffff168261077f565b1561024a5781816040517ff42f16f8000000000000000000000000000000000000000000000000000000008152600401610241929190610b87565b60405180910390fd5b6102598263ffffffff16610883565b61029c5781336040517fca3138b3000000000000000000000000000000000000000000000000000000008152600401610293929190610b87565b60405180910390fd5b600460008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002082908060018154018082558091505060019003906000526020600020016000909163ffffffff169091909150556001600360008463ffffffff16815260200190815260200160002060008282829054906101000a900463ffffffff166103419190610c2c565b92506101000a81548163ffffffff021916908363ffffffff1602179055507f63565bc258062cf3b0574b1d8471d02bc86740569205820c35e74d5ba961e61082600360008563ffffffff16815260200190815260200160002060009054906101000a900463ffffffff16836040516103bb93929190610bb0565b60405180910390a15050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610455576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161044c90610ae8565b60405180910390fd5b60008263ffffffff161161049e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161049590610ac8565b60405180910390fd5b8060026000600154815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600360006001600081548092919061050a90610cbe565b91905055815260200190815260200160002060006101000a81548163ffffffff021916908363ffffffff1602179055507fd3aee6a113345dc2d1e25a18006c98ad8ae7b2a4c73350c856dd401e56ea0417600180546105699190610bf8565b83604051610578929190610b43565b60405180910390a15050565b60036020528060005260406000206000915054906101000a900463ffffffff1681565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60026020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610691576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161068890610ae8565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff1660008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f342827c97908e5e2f71151c08502a66d44b6f758e3ac2f1de95f02eb95f0a73560405160405180910390a3806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6004602052816000526040600020818154811061076a57600080fd5b90600052602060002001600091509150505481565b600080600090505b600460008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020805490508110156108775783600460008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208281548110610849577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b9060005260206000200154141561086457600191505061087d565b808061086f90610cbe565b915050610787565b50600090505b92915050565b60003373ffffffffffffffffffffffffffffffffffffffff166002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156108f557600190506108fa565b600090505b919050565b60008135905061090e81610db1565b92915050565b60008135905061092381610dc8565b92915050565b60008135905061093881610ddf565b92915050565b60006020828403121561095057600080fd5b600061095e848285016108ff565b91505092915050565b6000806040838503121561097a57600080fd5b6000610988858286016108ff565b925050602061099985828601610914565b9150509250929050565b6000602082840312156109b557600080fd5b60006109c384828501610914565b91505092915050565b600080604083850312156109df57600080fd5b60006109ed85828601610929565b92505060206109fe858286016108ff565b9150509250929050565b610a1181610c60565b82525050565b6000610a24601f83610be7565b9150610a2f82610d36565b602082019050919050565b6000610a47601383610be7565b9150610a5282610d5f565b602082019050919050565b6000610a6a601583610be7565b9150610a7582610d88565b602082019050919050565b610a8981610c92565b82525050565b610a9881610cac565b82525050565b610aa781610c9c565b82525050565b6000602082019050610ac26000830184610a08565b92915050565b60006020820190508181036000830152610ae181610a17565b9050919050565b60006020820190508181036000830152610b0181610a3a565b9050919050565b60006020820190508181036000830152610b2181610a5d565b9050919050565b6000602082019050610b3d6000830184610a80565b92915050565b6000604082019050610b586000830185610a80565b610b656020830184610a8f565b9392505050565b6000602082019050610b816000830184610a9e565b92915050565b6000604082019050610b9c6000830185610a8f565b610ba96020830184610a08565b9392505050565b6000606082019050610bc56000830186610a8f565b610bd26020830185610a9e565b610bdf6040830184610a08565b949350505050565b600082825260208201905092915050565b6000610c0382610c92565b9150610c0e83610c92565b925082821015610c2157610c20610d07565b5b828203905092915050565b6000610c3782610c9c565b9150610c4283610c9c565b925082821015610c5557610c54610d07565b5b828203905092915050565b6000610c6b82610c72565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600063ffffffff82169050919050565b6000610cb782610c9c565b9050919050565b6000610cc982610c92565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415610cfc57610cfb610d07565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f7469636b657473206d7573742062652067726561746572207468616e20302e00600082015250565b7f43616c6c6572206973206e6f74206f776e657200000000000000000000000000600082015250565b7f736f727279206e6f207469636b657473206c6566740000000000000000000000600082015250565b610dba81610c60565b8114610dc557600080fd5b50565b610dd181610c92565b8114610ddc57600080fd5b50565b610de881610c9c565b8114610df357600080fd5b5056fea26469706673582212209f89da47278675e068c282a1634a6027c44d658ee8269a18cb9a364b507b400264736f6c63430008040033`;

export const contract = new web3.eth.Contract(CONTRACT_ABI,CONTRACT_ADDR);